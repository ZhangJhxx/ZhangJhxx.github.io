---
title: 腾讯一面
date: 2022-03-08 19:04:04
tags: TEG
categories: 
- 面试
---

### 算法 

1. 给定一个数组，找到该数组能被三整数的最大子数组的和。

   > arr:[3,6,5,8,1]
   >
   > 最大能被三整除数组：[3,6,8,1]，返回3+6+8+1=18

```js
function getMaxDividend(nums) {
  let total = nums.reduce((sum, curr) => {
    return sum + curr;
  });
  if (total % 3 === 0) return total;
  nums.sort((a, b) => a - b);
  const mod1 = [];
  const mod2 = [];
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] % 3 === 1) {
      mod1.push(nums[i]);
    } else if (nums[i] % 3 === 2) {
      mod2.push(nums[i]);
    }
  }
  if (total % 3 === 1) {
    const mod1_0 = mod1[0];
    const mod2_0 = mod2[0];
    const mod2_1 = mod2[1];
    if(mod1_0< mod2_0+mod2_1){
      total -= mod1_0;
    }else{
      total -= (mod2_0+mod2_1);
    }
  }else{//total % 3 === 2
    const mod1_0 = mod1[0];
    const mod1_1 = mod1[1];
    const mod2_0 = mod2[0];
    if(mod2_0 < mod1_0+mod1_1){
      total -= mod2_0;
    }else{
      total -= (mod1_0+mod1_1);
    }
  }
  return total;
}
```

2. 正则匹配`<div> 123 </div>`和`<a />`

   不知道为啥第二个匹配不了

   ```js
   const regex = /<([a-z]+)>(.*)?<\/(\1)>|<[a-z]+[^/]*\/>/g;
   let res1 = regex.test("<div> 123 </div>");//true
   let res2 = regex.test("<a/>");//false
   ```

   regExp的flag: **g:global** **i:ignoreCase** **s:dotall**(.无法匹配\n换行符，加入s也可以匹配换行符) **m:mutiline**(多行匹配) **y:sticky**(与lastIndex相关)

   



### 面试提问部分

1. typescript 中类型检测，泛型，高级语法Utility Types

2. react中react.createElement生成了什么，jsx有什么语法特性

3. 浏览器事件环

4. 微任务与宏任务

   插入`<script>`标签为宏任务

5. 用微任务与宏任务的机制实现react中多次`setState(x+1)`只执行一次（思路）

6. 有没有自己搭过项目

7. babel

   babel是一个转译器，感觉相对于编译器compiler，叫转译器transpiler更准确，因为它只是把同种语言的高版本规则翻译成低版本规则，而不像编译器那样，输出的是另一种更低级的语言代码。
   
   ![babel-banner](https://me-file-list.oss-cn-beijing.aliyuncs.com/img/babel-banner.png)
   
   https://www.jianshu.com/p/e9b94b2d52e2
   
   AST
   
   https://esprima.org/demo/parse.html#
   
   https://astexplorer.net/
   
   ...
